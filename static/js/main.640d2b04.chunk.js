(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,n){e.exports=n.p+"static/media/player_walk.9f19440f.png"},19:function(e,t,n){e.exports=n(29)},28:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(11),c=n.n(o),i=n(2),u=n(13),l=n(14),s=n(17),p=n(15),d=n(18);console.log(Object({NODE_ENV:"production",PUBLIC_URL:"/dungeon-crawler-game"}));var h=function(e){switch(e){case 3:case 6:return"tree";case 4:return"chest";case 5:return"rock";default:return"tile"}},f=function(e){var t=e.tile;return r.a.createElement("div",{style:{display:"inline-flex",backgroundColor:"#42b842",height:40,width:40,backgroundImage:'url("'.concat("/dungeon-crawler-game","/tiles/").concat(h(t),'.png")')}})},w=function(e){var t=e.tiles;return r.a.createElement("div",{className:"row",style:{height:40}},t.map(function(e){return r.a.createElement(f,{tile:e})}))},m=Object(i.b)(function(e){return{tiles:e.map.tiles}})(function(e){var t=e.tiles;return r.a.createElement("div",{style:{position:"relative",top:"0px",left:"0px",width:"800px",height:"480px",backgroundColor:"green",border:"4px solid white"}},t.map(function(e){return r.a.createElement(w,{tiles:e})}))}),E=n(3),g=n(16),v=n.n(g),y=n(5),x={position:[0,0],spriteLocation:"0px 0px",direction:"east",walkIndex:0},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MOVE_PLAYER":return Object(E.a)({},t.payload);default:return e}},O={tiles:[]},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TILES":return Object(E.a)({},t.payload);default:return e}},_=Object(y.b)({player:b,map:S}),T=Object(y.c)(_,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),k=function(){var e=!1,t=document.querySelector("body"),n=document.createElement("canvas");n.width=window.innerWidth,n.height=window.innerHeight,n.style="position:absolute;top:0";var a=n.getContext("2d"),r=new Image;r.src="./coin.png",r.onload=function(){t.appendChild(n),e=!0,c()};var o=[],c=function t(){e&&requestAnimationFrame(t),a.clearRect(0,0,n.width,n.height),Math.random()<.8&&o.push({x:Math.random()*n.width,y:-50,moveDownBy:3,size:.5+Math.random(),state:10*Math.random()});for(var c=o.length;c--;){var i=o[c],u=i.x,l=i.y,s=i.size,p=i.state;o[c].state=p>9?0:p+.1,o[c].moveDownBy+=.3,o[c].y+=o[c].moveDownBy,a.drawImage(r,44*Math.floor(p),0,44,40,u,l,44*s,40*s)}}},j=function(e){var t=T.getState().map.tiles,n=e[1]/40,a=e[0]/40;return t[n][a]},D=function(e,t){var n=function(){var e=T.getState().player.walkIndex;return e>=7?0:e+1}(),a=function(e,t){switch(e){case"SOUTH":return"".concat(40*t,"px ").concat(0,"px");case"EAST":return"".concat(40*t,"px ").concat(40,"px");case"WEST":return"".concat(40*t,"px ").concat(80,"px");case"NORTH":return"".concat(40*t,"px ").concat(120,"px")}}(e,n);T.dispatch({type:"MOVE_PLAYER",payload:{position:t,direction:e,walkIndex:n,spriteLocation:a}})},I=function(e){var t=T.getState().player.position,n=function(e,t){switch(t){case"WEST":return[e[0]-40,e[1]];case"EAST":return[e[0]+40,e[1]];case"NORTH":return[e[0],e[1]-40];case"SOUTH":return[e[0],e[1]+40]}}(t,e);(function(e){return e[0]>=0&&e[0]<=760&&e[1]>=0&&e[1]<=440})(n)&&function(e){var t=j(e);return 4===t&&k(),t<5}(n)&&!function(e){return 4===j(e)}(t)&&D(e,n)},L=function(e){return window.addEventListener("keydown",function(e){!function(e){switch(e.preventDefault(),e.keyCode){case 37:return I("WEST");case 38:return I("NORTH");case 39:return I("EAST");case 40:I("SOUTH")}}(e)}),e},N=Object(i.b)(function(e){return Object(E.a)({},e.player)})(L(function(e){var t=e.position,n=e.spriteLocation;return r.a.createElement("div",{style:{position:"absolute",top:t[1],left:t[0],backgroundImage:"url('".concat(v.a,"')"),backgroundPosition:n,width:"40px",height:"40px"}})})),R=[[0,0,6,6,6,6,6,6,6,6,5,5,6,6,6,6,6,6,6,6],[0,0,0,0,6,6,6,6,6,6,6,5,6,6,6,6,6,6,6,6],[6,6,0,0,0,6,6,6,6,6,6,5,6,0,0,0,6,6,6,6],[6,6,0,6,0,0,6,6,6,5,5,5,6,6,0,0,6,6,6,6],[6,6,6,6,0,0,6,6,0,5,5,5,0,0,0,6,6,5,6,6],[6,6,6,6,0,0,0,0,0,0,0,0,0,6,5,6,6,6,6,6],[6,6,0,0,0,0,0,0,6,0,6,6,0,5,5,6,6,6,6,6],[6,6,6,0,0,6,6,6,6,6,6,0,0,5,6,6,6,6,6,6],[6,6,6,6,6,6,6,5,5,6,6,0,0,3,3,3,0,0,6,6],[6,6,6,5,5,6,6,5,6,6,6,0,0,6,6,6,0,4,6,6],[6,6,6,6,5,6,6,6,6,6,6,0,0,6,6,6,6,6,6,6],[6,6,6,6,6,6,6,6,6,6,6,0,0,6,6,6,6,6,6,6]],A=function(){return T.dispatch({type:"ADD_TILES",payload:{tiles:R}}),r.a.createElement("div",{style:{position:"relative",width:"800px",height:"400px",margin:"20px auto"}},r.a.createElement(m,null),r.a.createElement(N,null))},C=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(A,null))}}]),t}(a.Component);n(28);c.a.render(r.a.createElement(i.a,{store:T},r.a.createElement(C,null)),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.640d2b04.chunk.js.map